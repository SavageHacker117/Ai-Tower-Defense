<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Tower Defense - Lightning Strike</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            overflow: hidden;
            color: white;
        }

        #gameContainer {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #gameCanvas {
            width: 1200px;
            height: 1200px;
            max-width: 90vmin;
            max-height: 90vmin;
            border: 3px solid #ffd700;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        #loadingScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease-out;
        }

        #loadingScreen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .lightning-container {
            position: relative;
            width: 300px;
            height: 400px;
            margin-bottom: 30px;
        }

        .lightning-bolt {
            width: 100%;
            height: 100%;
            background: transparent;
            position: relative;
            overflow: hidden;
        }

        .lightning-outline {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 100%;
            clip-path: polygon(
                40% 0%, 60% 0%, 65% 35%, 80% 35%, 
                55% 60%, 75% 60%, 50% 100%, 45% 100%,
                25% 60%, 45% 60%, 20% 35%, 35% 35%
            );
            border: 4px solid #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .lightning-fill {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 0%;
            clip-path: polygon(
                40% 0%, 60% 0%, 65% 35%, 80% 35%, 
                55% 60%, 75% 60%, 50% 100%, 45% 100%,
                25% 60%, 45% 60%, 20% 35%, 35% 35%
            );
            background: linear-gradient(to bottom, #ffff00, #ffd700, #ffaa00);
            transition: height 0.3s ease-out;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            animation: particleFloat 2s infinite ease-in-out;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        @keyframes particleFloat {
            0%, 100% { transform: translateY(0px) scale(1); opacity: 1; }
            50% { transform: translateY(-20px) scale(1.2); opacity: 0.7; }
        }

        .loading-text {
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            margin-bottom: 10px;
        }

        .loading-progress {
            font-size: 18px;
            color: #ffffff;
            opacity: 0.8;
        }

        #gameUI {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .ui-panel {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            pointer-events: auto;
        }

        #resourcePanel {
            top: 20px;
            left: 20px;
            min-width: 200px;
        }

        #towerPanel {
            bottom: 20px;
            left: 20px;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            max-width: 320px;
        }

        #wavePanel {
            top: 20px;
            right: 20px;
            min-width: 150px;
        }

        .tower-button {
            width: 55px;
            height: 55px;
            background: linear-gradient(45deg, #333, #555);
            border: 2px solid #ffd700;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            line-height: 1;
        }

        .tower-button:hover {
            background: linear-gradient(45deg, #555, #777);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            transform: scale(1.05);
        }

        .tower-button.selected {
            background: linear-gradient(45deg, #ffd700, #ffaa00);
            color: black;
        }

        .resource-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .wave-info {
            text-align: center;
            margin-bottom: 10px;
        }

        #instructions {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            max-width: 300px;
            font-size: 14px;
            line-height: 1.4;
        }

        .instruction-title {
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .season-indicator {
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ffd700;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>
        
        <div id="loadingScreen">
            <div class="lightning-container">
                <div class="lightning-bolt">
                    <div class="lightning-outline"></div>
                    <div class="lightning-fill" id="lightningFill"></div>
                </div>
            </div>
            <div class="loading-text">Lightning Strike Tower Defense</div>
            <div class="loading-progress" id="loadingProgress">Loading... 0%</div>
        </div>

        <div id="gameUI" style="display: none;">
            <div id="resourcePanel" class="ui-panel">
                <div class="resource-item">
                    <span>üí∞ Gold:</span>
                    <span id="goldAmount">500</span>
                </div>
                <div class="resource-item">
                    <span>‚ù§Ô∏è Lives:</span>
                    <span id="livesAmount">20</span>
                </div>
                <div class="resource-item">
                    <span>‚ö° Energy:</span>
                    <span id="energyAmount">100</span>
                </div>
            </div>

            <div id="towerPanel" class="ui-panel">
                <button class="tower-button" data-tower="1" title="Basic Tower (1) - Cost: 50">
                    üèóÔ∏è<br>1
                </button>
                <button class="tower-button" data-tower="2" title="Laser Tower (2) - Cost: 100">
                    üî´<br>2
                </button>
                <button class="tower-button" data-tower="3" title="Missile Tower (3) - Cost: 150">
                    üöÄ<br>3
                </button>
                <button class="tower-button" data-tower="4" title="Lightning Tower (4) - Cost: 200">
                    ‚ö°<br>4
                </button>
                <button class="tower-button" data-tower="5" title="Ice Tower (5) - Cost: 120">
                    ‚ùÑÔ∏è<br>5
                </button>
                <button class="tower-button" data-tower="6" title="Plasma Tower (Q) - Cost: 300">
                    üåü<br>Q
                </button>
                <button class="tower-button" data-tower="7" title="Tesla Tower (E) - Cost: 250">
                    üîå<br>E
                </button>
                <button class="tower-button" data-tower="8" title="Cannon Tower (R) - Cost: 180">
                    üí•<br>R
                </button>
                <button class="tower-button" data-tower="9" title="Poison Tower (T) - Cost: 160">
                    ‚ò†Ô∏è<br>T
                </button>
                <button class="tower-button" data-tower="10" title="Sniper Tower (0) - Cost: 400">
                    üéØ<br>0
                </button>
                <button class="tower-button" data-tower="11" title="Flame Tower (6) - Cost: 220">
                    üî•<br>6
                </button>
                <button class="tower-button" data-tower="12" title="Gravity Tower (7) - Cost: 350">
                    üåÄ<br>7
                </button>
                <button class="tower-button" data-tower="13" title="Shield Tower (8) - Cost: 280">
                    üõ°Ô∏è<br>8
                </button>
                <button class="tower-button" data-tower="14" title="Quantum Tower (9) - Cost: 500">
                    ‚öõÔ∏è<br>9
                </button>
                <button class="tower-button" data-tower="15" title="Nuclear Tower (Y) - Cost: 800">
                    ‚ò¢Ô∏è<br>Y
                </button>
            </div>

            <div id="wavePanel" class="ui-panel">
                <div class="wave-info">
                    <div>Wave: <span id="currentWave">1</span>/10</div>
                    <div>Enemies: <span id="enemiesLeft">0</span></div>
                    <div>Level: <span id="currentLevel">1</span>/10</div>
                </div>
                <button id="startWaveBtn" style="width: 100%; padding: 8px; background: #4CAF50; border: none; border-radius: 5px; color: white; cursor: pointer;">
                    Start Wave
                </button>
            </div>

            <div class="season-indicator">
                <div id="seasonDisplay">üå∏<br>Spring</div>
            </div>

            <div id="instructions">
                <div class="instruction-title">Camera Controls:</div>
                <div>C - Toggle camera mode</div>
                <div>V - Reset camera</div>
                <div>WASD - Move camera (Free mode)</div>
                <div>Mouse - Look around</div>
                <div>Scroll - Zoom in/out</div>
                <br>
                <div class="instruction-title">Tower Controls:</div>
                <div>1-9, 0 - Select towers</div>
                <div>Q,E,R,T,Y - More towers</div>
                <div>Click - Place tower</div>
                <div>Space - Start/Pause wave</div>
                <br>
                <div class="instruction-title">Objective:</div>
                <div>Defend against 10 waves of enemies across 4 seasons. Use 15 unique tower types with special abilities!</div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="high-performance-animation-engine.js"></script>
    <script src="sprite-animation-demo.js"></script>
    <script src="advanced-camera-system.js"></script>
    <script src="camera-ui-integration.js"></script>
    <script src="visual-cursor-system.js"></script>
    <script src="input-manager.js"></script>
    <script src="game.js"></script>
    <script src="special-abilities.js"></script>
    <script src="enhancements.js"></script>
    <script src="enhanced-tower-defense.js"></script>
</body>
</html>

